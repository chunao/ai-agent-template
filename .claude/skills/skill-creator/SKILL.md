---
name: skill-creator
description: 効果的なスキルを作成するためのガイドです。このスキルは、ユーザーが新しいスキルを作成したい場合（または既存のスキルを更新したい場合）、AIエージェントの機能を専門知識、ワークフロー、またはツール統合で拡張したい場合に使用する必要があります。
---

# スキルクリエイター

このスキルは、効果的なスキルを作成するためのガイダンスを提供します。

## スキルについて

スキルは、専門知識、ワークフロー、ツールを提供することでAIエージェントの機能を拡張する、モジュール式の自己完結型パッケージです。これらを特定のドメインやタスクのための「オンボーディングガイド」と考えてください。スキルは、AIエージェントを汎用エージェントから、モデルが完全には持ち得ない手続き的知識を備えた専門エージェントへと変身させます。

### スキルが提供するもの

1. 専門的なワークフロー - 特定のドメイン向けのマルチステップの手順
2. ツール統合 - 特定のファイル形式やAPIを扱うための指示
3. ドメイン専門知識 - 企業固有の知識、スキーマ、ビジネスロジック
4. バンドルされたリソース - 複雑で反復的なタスクのためのスクリプト、リファレンス、資産

## 核となる原則

### 簡潔さが鍵

コンテキストウィンドウは公共財です。スキルは、システムプロンプト、会話履歴、他のスキルのメタデータ、そして実際のユーザーリクエストなど、AIエージェントが必要とする他のすべてのものとコンテキストウィンドウを共有します。

**デフォルトの前提：AIエージェントはすでに非常に賢い。** AIエージェントがまだ持っていないコンテキストのみを追加してください。各情報に対して、「AIエージェントは本当にこの説明を必要としているか？」「この段落はそのトークンコストに見合うか？」と自問してください。

冗長な説明よりも、簡潔な例を優先してください。

### 適切な自由度の設定

タスクの脆弱性と変動性に合わせて、具体性のレベルを調整します。

**高自由度（テキストベースの指示）**：複数のアプローチが有効な場合、決定がコンテキストに依存する場合、またはヒューリスティクスがアプローチを導く場合に使用します。

**中自由度（疑似コードまたはパラメータ付きスクリプト）**：好ましいパターンが存在する場合、多少の変動が許容される場合、または構成が動作に影響する場合に使用します。

**低自由度（特定のスクリプト、少ないパラメータ）**：操作が脆弱でエラーが発生しやすい場合、一貫性が重要な場合、または特定の順序に従う必要がある場合に使用します。

AIエージェントが道を探索していると考えてください。崖のある狭い橋には特定のガードレール（低自由度）が必要ですが、開けた野原では多くのルート（高自由度）が許容されます。

### 出力言語

このスキルを使用する際のすべての成果物（implementation_plan.md、task.mdなど）の作成、および `task_boundary` での状況更新は、**日本語**で行ってください。ユーザーへの計画提示や進捗報告も日本語で行います。
ただし、コード、ファイルパス、ディレクトリ構成、英語のままの方が適切な専門用語については英語を使用して構いません。

### スキルの構造

すべてのスキルは、必須の SKILL.md ファイルと、オプションのバンドルされたリソースで構成されます。

```
skill-name/
├── SKILL.md (必須)
│   ├── YAML frontmatter メタデータ (必須)
│   │   ├── name: (必須)
│   │   └── description: (必須)
│   └── Markdownによる指示 (必須)
└── バンドルされたリソース (オプション)
    ├── scripts/          - 実行可能コード (Python/Bashなど)
    ├── references/       - 必要に応じてコンテキストにロードされるドキュメント
    └── assets/           - 出力で使用されるファイル (テンプレート、アイコン、フォントなど)
```

#### SKILL.md (必須)

すべての SKILL.md は以下で構成されます：

- **Frontmatter** (YAML): `name` と `description` フィールドを含みます。これらはAIエージェントがいつスキルを使用するかを決定するために読み取る唯一のフィールドであるため、スキルが何であり、いつ使用すべきかを明確かつ包括的に記述することが非常に重要です。
- **本文** (Markdown): スキルとバンドルされたリソースを使用するための指示とガイダンス。スキルがトリガーされた後にのみロードされます（トリガーされた場合）。

#### バンドルされたリソース (オプション)

##### スクリプト (`scripts/`)

決定論的な信頼性が必要なタスクや、繰り返し書き直されるタスクのための実行可能コード（Python/Bashなど）。

- **含めるべき場合**: 同じコードが繰り返し書き直されている場合、または決定論的な信頼性が必要な場合
- **例**: PDF回転タスク用の `scripts/rotate_pdf.py`
- **利点**: トークン効率が良い、決定的、コンテキストにロードせずに実行できる可能性がある
- **注意**: スクリプトは、パッチ適用や環境固有の調整のためにAIエージェントによって読み取られる必要がある場合があります

##### リファレンス (`references/`)

AIエージェントのプロセスと言考に情報を提供するために、必要に応じてコンテキストにロードされることを意図したドキュメントおよび参考資料。

- **含めるべき場合**: 作業中にAIエージェントが参照すべきドキュメントがある場合
- **例**: 金融スキーマ用の `references/finance.md`、企業NDAテンプレート用の `references/mnda.md`、企業ポリシー用の `references/policies.md`、API仕様用の `references/api_docs.md`
- **ユースケース**: データベーススキーマ、APIドキュメント、ドメイン知識、企業ポリシー、詳細なワークフローガイド
- **利点**: SKILL.mdをスリムに保ち、AIエージェントが必要だと判断したときだけロードされる
- **ベストプラクティス**: ファイルが大きい（1万語以上）場合は、SKILL.mdにgrep検索パターンを含める
- **重複を避ける**: 情報はSKILL.mdかリファレンスファイルのどちらかに存在すべきで、両方にあってはいけません。詳細な情報は、それがスキルの真に核心的な部分でない限り、リファレンスファイルにすることを優先してください。これにより、SKILL.mdをスリムに保ちつつ、コンテキストウィンドウを占有せずに情報を発見可能にします。SKILL.mdには必須の手順とワークフローガイダンスのみを残し、詳細な参考資料、スキーマ、例はリファレンスファイルに移動してください。

##### 資産 (`assets/`)

コンテキストにロードされることを意図したものではなく、AIエージェントが生成する出力内で使用されるファイル。

- **含めるべき場合**: スキルが最終出力で使用されるファイルを必要とする場合
- **例**: ブランド資産用の `assets/logo.png`、PowerPointテンプレート用の `assets/slides.pptx`、HTML/Reactボイラープレート用の `assets/frontend-template/`、タイポグラフィ用の `assets/font.ttf`
- **ユースケース**: テンプレート、画像、アイコン、ボイラープレートコード、フォント、コピーまたは変更されるサンプルドキュメント
- **利点**: 出力リソースをドキュメントから分離し、AIエージェントがファイルをコンテキストにロードせずに使用できるようにする

#### スキルに含めてはいけないもの

スキルには、その機能を直接サポートする不可欠なファイルのみを含めるべきです。以下を含む、不要なドキュメントや補助ファイルを作成しないでください：

- README.md
- INSTALLATION_GUIDE.md
- QUICK_REFERENCE.md
- CHANGELOG.md
- など

スキルには、AIエージェントが手元の仕事をするために必要な情報のみを含めるべきです。作成プロセス、セットアップやテスト手順、ユーザー向けのドキュメントなどに関する補助的なコンテキストを含めるべきではありません。追加のドキュメントファイルを作成することは、混乱と無秩序を招くだけです。

### 段階的開示の設計原則

スキルは、コンテキストを効率的に管理するために3段階のロードシステムを使用します：

1. **メタデータ (name + description)** - 常にコンテキストにある (~100語)
2. **SKILL.md 本文** - スキルがトリガーされたとき (<5k語)
3. **バンドルされたリソース** - AIエージェントが必要とするとき (スクリプトはコンテキストウィンドウに読み込まずに実行できるため無制限)

#### 段階的開示のパターン

SKILL.mdの本文は要点のみとし、コンテキストの膨張を最小限に抑えるために500行以下に保ってください。この制限に近づいたら、コンテンツを別のファイルに分割してください。コンテンツを他のファイルに切り出す際は、SKILL.mdからそれらを参照し、いつ読み込むべきかを明確に記述することが非常に重要です。これにより、スキルの読み手（AIエージェント）がそれらの存在と使用時期を知ることができます。

**重要な原則：** スキルが複数のバリエーション、フレームワーク、またはオプションをサポートする場合、SKILL.mdには核となるワークフローと選択ガイダンスのみを残してください。バリエーション固有の詳細（パターン、例、設定）は、別のリファレンスファイルに移動してください。

**パターン1：リファレンス付きハイレベルガイド**

```markdown
# PDF Processing

## Quick start

Extract text with pdfplumber:
[code example]

## Advanced features

- **Form filling**: See [FORMS.md](FORMS.md) for complete guide
- **API reference**: See [REFERENCE.md](REFERENCE.md) for all methods
- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for common patterns
```

AIエージェントは、必要になったときだけ FORMS.md、REFERENCE.md、または EXAMPLES.md をロードします。

**パターン2：ドメイン固有の構成**

複数のドメインを持つスキルの場合、関係のないコンテキストをロードしないように、コンテンツをドメインごとに整理します：

```
bigquery-skill/
├── SKILL.md (overview and navigation)
└── reference/
    ├── finance.md (revenue, billing metrics)
    ├── sales.md (opportunities, pipeline)
    ├── product.md (API usage, features)
    └── marketing.md (campaigns, attribution)
```

ユーザーが売上指標について質問した場合、AIエージェントは sales.md のみを読みます。

同様に、複数のフレームワークやバリエーションをサポートするスキルの場合、バリエーションごとに整理します：

```
cloud-deploy/
├── SKILL.md (workflow + provider selection)
└── references/
    ├── aws.md (AWS deployment patterns)
    ├── gcp.md (GCP deployment patterns)
    └── azure.md (Azure deployment patterns)
```

ユーザーがAWSを選択した場合、AIエージェントは aws.md のみを読みます。

**パターン3：条件付き詳細**

基本的なコンテンツを表示し、高度なコンテンツにリンクします：

```markdown
# DOCX Processing

## Creating documents

Use docx-js for new documents. See [DOCX-JS.md](DOCX-JS.md).

## Editing documents

For simple edits, modify the XML directly.

**For tracked changes**: See [REDLINING.md](REDLINING.md)
**For OOXML details**: See [OOXML.md](OOXML.md)
```

AIエージェントは、ユーザーがそれらの機能を必要としたときだけ REDLINING.md または OOXML.md を読みます。

**重要なガイドライン：**

- **深くネストされた参照を避ける** - 参照は SKILL.md から1階層の深さに保ってください。すべてのリファレンスファイルは SKILL.md から直接リンクされるべきです。
- **長いリファレンスファイルの構造化** - 100行を超えるファイルの場合、AIエージェントがプレビュー時に全体像を把握できるように、冒頭に目次を含めてください。

## スキル作成プロセス

スキル作成には以下のステップが含まれます：

1. 具体的な例を通してスキルを理解する
2. 再利用可能なスキルコンテンツ（スクリプト、リファレンス、資産）を計画する
3. スキルを初期化する（init_skill.pyを実行）
4. スキルを編集する（リソースを実装し、SKILL.mdを書く）
5. スキルをパッケージ化する（package_skill.pyを実行）
6. 実際の使用に基づいて反復する

明確に適用できない理由がない限り、これらのステップを順に実行してください。

### ステップ1：具体的な例を通してスキルを理解する

スキルの使用パターンがすでに明確に理解されている場合にのみ、このステップをスキップしてください。既存のスキルを扱う場合でも、このステップは依然として価値があります。

効果的なスキルを作成するためには、そのスキルがどのように使用されるか、具体的な例を明確に理解してください。この理解は、直接的なユーザーの例、またはユーザーフィードバックで検証された生成例から得られます。

例えば、画像編集スキルを構築する場合、関連する質問には以下が含まれます：

- 「画像編集スキルはどのような機能をサポートすべきか？編集、回転、その他？」
- 「このスキルがどのように使用されるか、いくつか例を挙げてもらえますか？」
- 「ユーザーが『この画像の赤目を除去して』や『この画像を回転させて』のように頼むことが想像できます。他にこのスキルがどのように使われると想像しますか？」
- 「このスキルをトリガーするには、ユーザーは何と言うでしょうか？」

ユーザーを圧倒しないよう、一度のメッセージで多くの質問をしすぎないようにしてください。最も重要な質問から始め、効果を高めるために必要に応じてフォローアップしてください。

スキルがサポートすべき機能について明確な感覚が得られたら、このステップを終了します。

### ステップ2：再利用可能なスキルコンテンツの計画

具体的な例を効果的なスキルに変えるために、各例を以下のように分析してください：

1. その例をゼロから実行する方法を検討する
2. これらのワークフローを繰り返し実行する際、どのようなスクリプト、リファレンス、資産が役立つかを特定する

例：「このPDFを回転させて」のようなクエリを処理する `pdf-editor` スキルを構築する場合、分析は以下のようになります：

1. PDFの回転には、毎回同じコードを書き直す必要がある
2. `scripts/rotate_pdf.py` スクリプトをスキルに保存しておくと役立つだろう

例：「ToDoアプリを作って」や「歩数を記録するダッシュボードを作って」のようなクエリのための `frontend-webapp-builder` スキルを設計する場合、分析は以下のようになります：

1. フロントエンドWebアプリを書くには、毎回同じボイラープレートHTML/Reactが必要になる
2. ボイラープレートHTML/Reactプロジェクトファイルを含む `assets/hello-world/` テンプレートをスキルに保存しておくと役立つだろう

例：「今日何人のユーザーがログインしましたか？」のようなクエリを処理する `big-query` スキルを構築する場合、分析は以下のようになります：

1. BigQueryへのクエリには、毎回テーブルスキーマと関係性を再発見する必要がある
2. テーブルスキーマを文書化した `references/schema.md` ファイルをスキルに保存しておくと役立つだろう

スキルのコンテンツを確立するために、各具体的な例を分析して、含めるべき再利用可能なリソース（スクリプト、リファレンス、資産）のリストを作成してください。

### ステップ3：スキルの初期化

この時点で、実際にスキルを作成する時間です。

開発中のスキルがすでに存在し、反復やパッケージ化が必要な場合にのみ、このステップをスキップしてください。その場合は、次のステップに進んでください。

新しいスキルをゼロから作成する場合は、必ず `init_skill.py` スクリプトを実行してください。このスクリプトは、スキルに必要なすべてを自動的に含む新しいテンプレートスキルディレクトリを便利に生成し、スキル作成プロセスをより効率的かつ信頼性の高いものにします。

使用法：

```bash
scripts/init_skill.py <skill-name> --path <output-directory>
```

このスクリプトは：

- 指定されたパスにスキルディレクトリを作成します
- 適切なfrontmatterとTODOプレースホルダーを持つSKILL.mdテンプレートを生成します
- スクリプトリソースディレクトリの例を作成します：`scripts/`、`references/`、および `assets/`
- 各ディレクトリに、カスタマイズまたは削除可能なサンプルファイルを追加します

初期化後、必要に応じて生成されたSKILL.mdとサンプルファイルをカスタマイズまたは削除してください。

### ステップ4：スキルの編集

（新しく生成された、または既存の）スキルを編集するとき、そのスキルは別のAIエージェントインスタンスが使用するために作成されていることを忘れないでください。AIエージェントにとって有益で、かつ自明ではない情報を含めてください。どのような手続き的知識、ドメイン固有の詳細、または再利用可能な資産が、別のAIエージェントインスタンスがこれらのタスクをより効果的に実行するのに役立つかを検討してください。

#### 実証済みのデザインパターンを学ぶ

スキルのニーズに基づいて、以下の役立つガイドを参照してください：

- **マルチステッププロセス**: シーケンシャルなワークフローと条件付きロジックについては references/workflows.md を参照
- **特定の出力形式または品質基準**: テンプレートとパターンの例については references/output-patterns.md を参照

これらのファイルには、効果的なスキル設計のための確立されたベストプラクティスが含まれています。

#### 再利用可能なスキルコンテンツから始める

実装を開始するには、上記で特定した再利用可能なリソース（`scripts/`、`references/`、`assets/` ファイル）から始めてください。このステップにはユーザー入力が必要になる場合があることに注意してください。例えば、`brand-guidelines` スキルを実装する場合、ユーザーは `assets/` に保存するブランド資産やテンプレート、または `references/` に保存するドキュメントを提供する必要があるかもしれません。

追加されたスクリプトは、バグがなく、出力が期待通りであることを確認するために、実際に実行してテストする必要があります。類似したスクリプトが多数ある場合は、完了までの時間のバランスを取りつつ、すべてが機能することを確認するために代表的なサンプルのみをテストする必要があります。

スキルに不要なサンプルファイルやディレクトリは削除してください。初期化スクリプトは構造を示すために `scripts/`、`references/`、`assets/` にサンプルファイルを作成しますが、ほとんどのスキルはそれらすべてを必要としません。

#### SKILL.md の更新

**執筆ガイドライン：** 常に命令形/不定詞を使用してください。

##### Frontmatter

`name` と `description` を含むYAML frontmatterを記述します：

- `name`: スキル名
- `description`: これはスキルの主要なトリガーメカニズムであり、AIエージェントがいつスキルを使用すべきかを理解するのに役立ちます。
  - スキルが何をするか、そしてどのような特定のトリガー/コンテキストで使用するかを含めます。
  - すべての「いつ使用するか」という情報をここに含めます - 本文ではありません。本文はトリガーされた後にのみロードされるため、本文内の「このスキルの使用時期」セクションはAIエージェントにとって役に立ちません。
  - `docx` スキルの説明例：「変更履歴、コメント、フォーマット保持、テキスト抽出をサポートする、包括的なドキュメント作成、編集、分析。AIエージェントがプロフェッショナルなドキュメント（.docxファイル）を扱う必要がある場合に使用します：(1) 新しいドキュメントの作成、(2) コンテンツの修正または編集、(3) 変更履歴の操作、(4) コメントの追加、またはその他のドキュメントタスク」

YAML frontmatterには他のフィールドを含めないでください。

##### 本文

スキルとそのバンドルされたリソースを使用するための指示を記述します。

### ステップ5：スキルのパッケージ化

スキルの開発が完了したら、ユーザーと共有される配布可能な .skill ファイルにパッケージ化する必要があります。パッケージ化プロセスは、すべての要件を満たしていることを確認するために、最初にスキルを自動的に検証します：

```bash
scripts/package_skill.py <path/to/skill-folder>
```

オプションの出力ディレクトリ指定：

```bash
scripts/package_skill.py <path/to/skill-folder> ./dist
```

パッケージ化スクリプトは以下を行います：

1. スキルを自動的に **検証** し、以下をチェックします：

   - YAML frontmatterの形式と必須フィールド
   - スキルの命名規則とディレクトリ構造
   - 説明の完全性と品質
   - ファイル構成とリソース参照

2. 検証が通過した場合、スキルを **パッケージ化** し、配布用にすべてのファイルを含み適切なディレクトリ構造を維持した、スキル名にちなんだ .skill ファイル（例：`my-skill.skill`）を作成します。.skill ファイルは .skill 拡張子を持つzipファイルです。

検証に失敗した場合、スクリプトはエラーを報告し、パッケージを作成せずに終了します。検証エラーを修正し、パッケージ化コマンドを再度実行してください。

### ステップ6：反復

スキルをテストした後、ユーザーは改善を要求することがあります。これは多くの場合、スキルを使用した直後に、スキルがどのように機能したかという新鮮なコンテキストがある状態で発生します。

**反復ワークフロー：**

1. 実際のタスクでスキルを使用する
2. 苦労している点や非効率な点に気づく
3. SKILL.md やバンドルされたリソースをどのように更新すべきかを特定する
4. 変更を実装し、再度テストする
