---
title: Codex MCPを活用したAI Coding開発: Codex利用率 社内3位の活用術
url: https://developers.cyberagent.co.jp/blog/archives/61630/
captured_at: 2026-01-21
published_at: 2026-01-14
---

# Codex MCPを活用したAI Coding開発: Codex利用率 社内3位の活用術

## TL;DR & Key Conclusions
CyberAgentの吉原氏が、Codex MCPとCursorを組み合わせた責務分離型のAI開発ワークフローを実践し、社内Codex利用率3位を達成した事例。設計をCodex MCPに、実装・GitHub管理をCursorに任せることで、設計の質向上と手戻り削減を実現している。

- **責務分離による開発効率化**: Codex MCPに設計・レビューを任せ、Cursorに実装・GitHub管理を任せることで、各AIツールに適切なコンテキストで指示を出せる
- **80点ルールによる意思決定**: パレートの法則に基づき、AIの提案が80点以上になったらPR/Issueを作成するという明確な基準を設定
- **知識ドキュメントの体系化**: AGENTS.mdと.docsディレクトリで、コーディング規約、ワークフロー、リファレンスを構造化し、AIの提案精度を向上
- **Issueコメントによる設計一元管理**: ローカルに実装計画のmdを残さず、Issueコメントを更新する形で最終設計を一元化し、設計意図の追跡を容易化
- **小さな単位での実装とレビュー**: 実装をブレイクダウンし、チェックリスト形式で管理、小単位でPRを作成してレビューしやすくする
- **複数観点からの評価提案**: Codex MCPは通常3個程度の案を提案し、推奨案も提示するため、より良い実装を選択できる
- **処理時間とコンテキスト管理の課題**: Codex MCPは数分の処理時間がかかり、AGENTS.mdの全てを毎回汲んでくれるわけではないため、必要に応じてファイル指定が必要
- **テンプレート公開**: Pythonプロジェクト用のAGENTS.mdテンプレートをGitHubで公開（agentsmd-template-python）

## Quickstart
1. **Cursorの設定**: メインエディタとしてCursorを使用し、Codex MCPとの連携を設定
2. **知識ドキュメントの準備**: プロジェクトルートにAGENTS.mdを作成し、.docsディレクトリ配下にコーディング規約、ワークフロー、リファレンスを構造化
3. **基本プロンプトの設定**: Cursorに「Codex MCPを使って調査・まとめ・報告し、80点以上になったらPR/Issueを作成」という指示を出す
4. **設計フェーズ**: Codex MCPに設計案を検討させ、最終設計をIssueコメントに一元化（ローカルmdは禁止）
5. **実装フェーズ**: 採用された設計を踏まえて実装計画を立て、チェックリスト形式でIssueコメントに記録、小単位でブランチ&PRを管理
6. **レビューフェーズ**: Codex MCPに評価と改善案を提案させ、80点以上の案のみ採用
7. **必要に応じたファイル指定**: AIが必要なドキュメントを参照しない場合は、明示的にファイルパスを指定（例: `.docs/01-coding-standards/naming-conventions.md を参考に、関数名を修正してください`）

## Context & Claims (Claim-Evidence-Caveat)
- **Claim**: 責務分離によりAI開発の質と効率が向上する
    - **Evidence**: 設計をCodex MCP、実装をCursorに分離することで、社内Codex利用率3位を達成。設計の質が上がり、手戻りが少なくなった
    - **Caveat**: Codex MCPの処理時間は数分かかるため、即座の応答が必要な場合には不向き。AGENTS.mdの全てを毎回参照するわけではないため、必要に応じて手動でファイル指定が必要

- **Claim**: 80点ルールにより効率的な意思決定が可能
    - **Evidence**: パレートの法則（全体の成果の8割は重要な2割の要素で決まる）に基づき、80点以上なら十分な成果が期待できる
    - **Caveat**: プロジェクトの特性によっては評価基準の調整が必要。何を80点とするかの基準が明確でないと機能しない

- **Claim**: 知識ドキュメントの体系化がAIの理解度を向上させる
    - **Evidence**: AGENTS.mdと.docsディレクトリ（core-principles.md、coding-standards/、workflow/、reference/）で構造化することで、Codex MCPがプロジェクトの文脈を理解し、適切な提案を行える
    - **Caveat**: ドキュメント構成は試行錯誤中で変更される可能性がある。自動で必要なファイルを参照する機構がないため、手動指定が必要な場合がある

- **Claim**: Issueコメントでの設計一元管理により、設計意図の追跡が容易になる
    - **Evidence**: ローカルに実装計画や設計のmdを残すことを禁止し、特定のコメントIDを更新する形で作業を進めることで、設計履歴が追跡可能になり、チーム全体で最新設計を共有できる
    - **Caveat**: 設計の履歴や差分を残したい場合は、設計用PRを作成し、Gitで変更履歴を管理する追加の手順が必要

- **Claim**: 実装のブレイクダウンとチェックリスト形式がコンテキスト管理を最適化する
    - **Evidence**: 実装プランをブレイクダウンしてチェックボックスを作ることで、Coding Agentsのコンテキストを最適に管理でき、実装の進捗がわかりやすくなる
    - **Caveat**: 小さな単位に分けすぎると、管理コストが増加する可能性がある

- **Claim**: 複数MCPの連携により調査と評価の自動化が可能
    - **Evidence**: Codex MCP、Context7 MCP、Serena MCP、kiri MCPを連携させて調査を行い、その結果を評価する一連の流れが自動化される
    - **Caveat**: 複数MCPの連携には初期設定とプロンプトの工夫が必要

## Code Snippets
- **基本プロンプト**: Cursorに「Codex MCPや複数のMCPを使って調査・まとめ・報告し、あらゆる観点から評価して点数と理由をつけて返答、80点以上になったらPR/Issueを作成」という指示を出すプロンプト
- **設計フェーズプロンプト**: 「localに実装計画や設計のmdを残すのは禁止、特定のコメントのIDを更新する形で作業を進める」という設計一元化のプロンプト
- **実装フェーズプロンプト**: 「採用された設計を踏まえて実装計画を立て、issueコメントを更新、可能な限りブレイクダウンし、チェックリスト式フォーマット [ ] を使用、終了したら[x]にする」という実装管理プロンプト
- **実装開始プロンプト**: 「実装を開始、作業をなるべく小さな単位に分けてレビューしやすく、必要ならばepic issueによる管理や、小さい単位でブランチ&PRを管理」という実装ブレイクダウンプロンプト
- **レビューフェーズプロンプト**: 「Codex MCPに聞いて80点以上の案のみ提案」というレビュー基準プロンプト
- **ファイル指定プロンプト**: 「.docs/01-coding-standards/naming-conventions.md を参考に、関数名を修正してください」という明示的なファイル参照プロンプト

## Normalized Conditions
- **Use Cases**:
    - AI Codingツールを活用した開発プロセスを最適化したい場合
    - 設計と実装の責務を分離し、各フェーズでの品質を向上させたい場合
    - チーム全体で設計意図を共有し、手戻りを削減したい場合
    - 知識ドキュメントを体系化してAIの提案精度を向上させたい場合
    - 複数のAIエージェントやMCPを連携させて開発ワークフローを自動化したい場合
- **Anti-Cases**:
    - 即座の応答が必要な緊急対応（Codex MCPは数分の処理時間がかかるため）
    - シンプルな単発タスクやプロトタイピング（設計と実装の分離がオーバーヘッドになる）
    - ドキュメント整備のコストをかけたくない小規模プロジェクト
- **Prerequisites**:
    - Cursor（または類似のCoding Agentsツール）
    - Codex MCP、および必要に応じてContext7 MCP、Serena MCP、kiri MCPなどの追加MCP
    - プロジェクトルートにAGENTS.mdと.docsディレクトリの知識ドキュメント構造を整備
    - GitHubでのIssue/PR管理ワークフロー
    - Pythonプロジェクトの場合、テンプレートリポジトリ（agentsmd-template-python）を参考にすることが推奨される
- **Decision Triggers**:
    - AI Codingの利用率を高めたいと考えたとき
    - 設計の質が低く、実装後の手戻りが多いと感じたとき
    - チーム全体で設計意図を共有する仕組みが必要になったとき
    - 知識ドキュメントを体系化してAIの提案精度を向上させたいとき
- **Failure Modes / Risks**:
    - Codex MCPの処理時間が数分かかるため、開発速度の低下を感じる可能性がある
    - AGENTS.mdの全てを毎回参照するわけではないため、手動でファイル指定が必要になる場合がある
    - 知識ドキュメントのメンテナンスコストが発生する
    - 80点の基準が曖昧な場合、意思決定が遅延する可能性がある
- **Operational Cost**:
    - 初期セットアップ: AGENTS.mdと.docsディレクトリの知識ドキュメント構造を整備する時間
    - 継続的なメンテナンス: 知識ドキュメントの更新とプロジェクトに応じた評価基準の調整
    - Codex MCPの処理時間: 1回数分の待ち時間
    - プロンプトの工夫: 各フェーズで適切なプロンプトを設定する時間
