---
title: 私が使っているClaude Code パーミッション設定を公開(settings.json)
url: https://zenn.dev/tmasuyama1114/articles/claude_code_permission_my_settings
captured_at: 2026-01-25
published_at: 2026-01-23
---

# 私が使っているClaude Code パーミッション設定を公開(settings.json)

## TL;DR & Key Conclusions
個人開発でスピード重視の環境向けClaude Code設定例。defaultModeを`acceptEdits`にして自動承認を最大化し、危険なコマンド（sudo、rm -rf、git reset等）と機密ファイル（.env、鍵ファイル等）のみ禁止。git commitやpushは信頼ベースで許可し、開発効率を優先。ただしチーム開発・高規制環境・本番接続情報がある環境では不適切。

- **defaultMode: acceptEdits**: ファイル読み取り・編集を自動承認し、確認頻度を削減
- **Git操作の信頼ベース許可**: git commit/pushをallowに設定（diff/log確認をClaude Codeに委任）
- **危険コマンドの多重防御**: sudo、rm -rf（複数パターン）、git reset/rebaseを明示的にdeny
- **機密ファイルの保護**: .env系、id_rsa、*token*、*key*、*secret*を含むファイルをdeny
- **テンプレートファイルは許可**: .env.example、.env.sampleはdenyに含めない設計
- **npx除外の意図**: npm全般は許可するが、npxは意図しないコード実行リスクで除外
- **確認が必要な操作**: rm（通常削除）、chmod、wget/curl、git mergeはask設定
- **WebFetchの制限**: github.comとnpmjs.orgのみ許可
- **適用制限**: チーム開発、金融・医療等の高規制環境、本番環境接続情報がある環境では不適切
- **初心者向け推奨**: defaultMode: defaultで全操作承認→徐々に緩和するアプローチ
- **想定環境**: 個人開発、Git管理前提、Node.js開発、スピード重視

## Quickstart
該当なし（設定ファイルの解説記事であり、手順ベースのクイックスタートは存在しない）

## Context & Claims (Claim-Evidence-Caveat)
- **Claim**: defaultModeをacceptEditsに設定することで開発効率が向上する
    - **Evidence**: ファイル読み取り・編集の自動承認により、頻繁な確認による開発フロー分断を回避
    - **Caveat**: 個人開発かつGit管理が前提（失敗時のrevert対応が可能な環境）に限定

- **Claim**: git commit/pushをallowに設定しても安全性は確保できる
    - **Evidence**: Claude Codeにdiff/log確認を任せる信頼ベースの運用。一般的な推奨とは異なる設計
    - **Caveat**: チーム開発や高規制環境では不適切。revert可能な環境が前提

- **Claim**: 危険なコマンドは複数パターンで禁止する必要がある
    - **Evidence**: rm -rfだけでなく、rm -r -f、rm -fr等のパターンも明示的にdeny設定
    - **Caveat**: 全パターンを網羅することは困難。基本的な防御策として位置付け

- **Claim**: 機密ファイルはワイルドカードパターンで保護する
    - **Evidence**: .env*、*token*、*key*、*secret*等のパターンでdeny設定
    - **Caveat**: .env.example、.env.sampleはテンプレート性質のため意図的に除外

- **Claim**: npxは許可すべきでない
    - **Evidence**: npm全般は許可するが、npxは意図しないコード実行リスクのため除外
    - **Caveat**: npm scriptsでnpxを使う場合は手動実行が必要

- **Claim**: この設定はClaude Code初心者には不適切
    - **Evidence**: 自動承認が多いため、Claude Codeの動作を理解していない段階では危険
    - **Caveat**: defaultMode: defaultで全操作承認→徐々に緩和するアプローチを推奨

## Code Snippets
該当なし（設定ファイルの説明のみで、実行可能なコードスニペットは存在しない）

## Normalized Conditions
- **Use Cases**:
    - 個人開発でスピード重視の開発スタイル
    - Git管理が前提で失敗時のrevert対応が可能な環境
    - Node.js開発が中心の環境
    - Claude Codeの動作を理解している開発者
    - 開発フローの分断を最小化したい場合

- **Anti-Cases**:
    - チーム開発（メンバー間の設定統一が困難）
    - 金融・医療等の高規制環境（コンプライアンス要件が厳格）
    - 本番環境接続情報が存在する環境
    - Claude Code初心者段階
    - 慎重な操作確認を重視する開発スタイル

- **Decision Triggers**:
    - 開発効率を最優先したい場合
    - 頻繁な承認確認が開発フローを妨げていると感じた場合
    - Git管理が確立され、revert運用が定着している場合
    - 個人開発でリスク許容度が高い場合
    - Claude Codeの動作パターンを十分理解した後
