---
title: 長時間稼働する自律型コーディングをスケールさせる
url: https://cursor.com/ja/blog/scaling-agents
captured_at: 2026-01-22
published_at: 2026-01-14
---

# 長時間稼働する自律型コーディングをスケールさせる

## TL;DR & Key Conclusions

Cursorが数百のコーディングエージェントを同時デプロイし、100万行以上のコードを生成した実験的取り組みの報告。フラットな構造では エージェントがリスク回避に陥り小さな安全な変更しか行わないことを発見し、Planner（継続的探索とタスク作成）とWorker（集中したタスク完了）の役割分離で解決した。

- **フラット構造の限界**: 20体のエージェントを投入しても実効スループットは2〜3体分程度に低下。ロック機構がボトルネック化し、難しいタスクを回避する傾向が発生
- **Planner-Worker分離**: Plannerがタスクを継続的に作成し、Workerが集中して完了。これにより視野狭窄を防ぎつつ大規模プロジェクトにスケール可能
- **楽観的並行制御**: ロックを廃止し、状態変化時に書き込み失敗させる方式に変更。Workerは既にコンフリクト処理が可能なため integrator ロールは不要
- **モデル選択が重要**: GPT-5.2が自律的長時間作業で優位。指示遵守、集中維持、ドリフト回避、実装正確さで優れる
- **シンプル化の重要性**: 機能追加より簡素化が有効。不要なintegratorロールはボトルネックを生むだけだった
- **実績**: ブラウザ構築（1週間、1,000+ファイル、100万行以上）、Solid→React移行（3週間以上、+266K/-193K行）、動画レンダリング最適化（Rust実装で25倍高速化）

## Quickstart

1. **役割分離の設計**: Planner（探索・タスク作成）とWorker（タスク実行）を明確に分離する
2. **Plannerの構成**: 特定領域向けにサブプランナーを生成可能にし、計画を並列・再帰的に実行。各サイクル終了時にJudgeエージェントが続行判断
3. **Workerの構成**: 割り当てられたタスク完了に専念し、他Workerとの調整は不要。完了後に変更をプッシュし、各イテレーションはクリーンな状態から開始
4. **並行制御**: ロック機構ではなく楽観的並行制御を採用（状態変化時に書き込み失敗させる）
5. **不要なロールの排除**: Workerが既にコンフリクト処理可能なため、integrator等の中間ロールは追加しない

## Context & Claims (Claim-Evidence-Caveat)

- **Claim**: フラット構造ではエージェントがリスク回避に陥り、野心的な目標に取り組まなくなる
    - **Evidence**: 20体のエージェント投入でも実効スループットが2〜3体分程度に低下。長時間作業が回り続けるが進捗がほとんど生まれない状態
    - **Caveat**: 小規模プロジェクトやシンプルなタスクでは問題にならない可能性

- **Claim**: Planner-Worker分離により大規模プロジェクトにスケール可能
    - **Evidence**: ブラウザゼロ構築（1,000ファイル、100万行以上、1週間）、Solid→React移行（+266K/-193K、3週間以上）を実現
    - **Caveat**: 役割分離の設計と実装に初期コストがかかる

- **Claim**: GPT-5.2が自律的長時間作業で最適
    - **Evidence**: 指示遵守、集中維持、ドリフト回避、実装正確さで優位。Claude Opus 4.5は早めに処理を打ち切る傾向
    - **Caveat**: モデルの進化により最適解は変わる可能性。プランニングにはコード特化モデルより汎用モデルが適切

- **Claim**: 構造の過剰化は脆弱性を増やす
    - **Evidence**: integratorロールは必要と思われたが、実際にはWorkerが既にコンフリクト処理可能でボトルネックになっただけ
    - **Caveat**: プロジェクトの複雑さによっては追加ロールが必要なケースもありうる

## Code Snippets

該当なし

## Normalized Conditions

- **Use Cases**:
    - 大規模複雑プロジェクト（1,000ファイル以上、数十万行規模）
    - 複数領域の並列開発
    - エンドツーエンド実装（ブラウザ構築、大規模リファクタリング等）
    - 数週間にわたる長期間の自律的開発
- **Anti-Cases**:
    - 小規模プロジェクトや単発タスク
    - 構造の過剰化（不要なロールの追加）
    - ドリフト管理なしでの長時間稼働
    - 不十分な役割分離での大規模デプロイ
- **Decision Triggers**:
    - プロジェクト規模が1,000ファイル/10万行を超える場合
    - 複数のエージェントを同時稼働させる必要がある場合
    - 1週間以上の継続的な自律開発が必要な場合
    - フラット構造で進捗の停滞が見られた場合
