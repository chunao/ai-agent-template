---
title: エージェントを活用したコーディングのベストプラクティス
url: https://cursor.com/ja/blog/agent-best-practices
captured_at: 2026-01-22
published_at: 2026-01-09
---

# エージェントを活用したコーディングのベストプラクティス

## TL;DR & Key Conclusions

Cursorのコーディングエージェントを効果的に活用するための包括的ガイド。エージェントハーネスの理解、Plan Mode、コンテキスト管理、Rules/Skills、並列実行など実践的テクニックを網羅。エージェントは明確なプランと適切なコンテキストで最高性能を発揮する。

- **エージェントハーネスの3要素**: Instructions（システムプロンプト）、Tools（ファイル編集・検索・ターミナル）、User messages（タスク指示）
- **Plan Mode活用**: `Shift+Tab`で有効化。コードベース調査→要件明確化→実装プラン作成→承認待ちのフローで確実な実装
- **コンテキスト管理**: エージェントに探索を任せる。`@Past Chats`で効率的に引き継ぎ。新規会話vs継続の判断基準を明確に
- **Rules（静的コンテキスト）**: `.cursor/rules/`にMarkdownでコマンド、コード規約、ワークフローを定義。簡潔に保ち、同じミス繰り返し時のみ追加
- **Skills（動的機能）**: カスタムコマンド、Hooks、ドメイン知識で拡張。長時間実行エージェントも設定可能
- **並列実行**: Git worktreeで複数エージェント隔離実行、複数モデル並行比較が可能
- **レビューの重要性**: 生成中監視、Agent Review、Bugbot、アーキテクチャ図で品質確保

## Quickstart

1. **Plan Modeを有効化**: `Shift+Tab`でPlan Modeに切り替え、エージェントにコードベース調査と実装プランを作成させる
2. **Rulesを設定**: `.cursor/rules/`にMarkdownファイルを作成し、実行コマンド・コード規約・ワークフロー手順を定義
3. **コンテキストを管理**: 新規タスクは新規会話、反復作業やデバッグは会話継続。`@Past Chats`で効率的に引き継ぎ
4. **生成を監視**: 差分をリアルタイム確認し、誤った方向ならEscで中断
5. **段階的に最適化**: シンプルから始め、同じミス繰り返し時にRulesを追加

## Context & Claims (Claim-Evidence-Caveat)

- **Claim**: エージェントは明確なプランと適切なコンテキストで最高性能を発揮する
    - **Evidence**: Plan Modeでコードベース調査→要件明確化→実装プラン作成のフローを踏むことで確実な実装が可能
    - **Caveat**: プランは`.cursor/plans/`に保存してチーム共有できるが、コンテキスト量が多すぎると逆効果の可能性

- **Claim**: Rulesは簡潔に保ち、同じミスの繰り返し時にのみ追加すべき
    - **Evidence**: 過剰なルールはエージェントの動作を制約しすぎる。必要最小限のガイダンスが効果的
    - **Caveat**: プロジェクト固有の複雑な規約がある場合は詳細なルールが必要なケースも

- **Claim**: 会話の継続vs新規開始の判断基準を持つことが重要
    - **Evidence**: 新規会話開始：異なるタスク、エージェント混乱時、作業完了時。会話継続：反復作業、依存関係がある場合、デバッグ時
    - **Caveat**: 判断基準は個人やプロジェクトによって異なる場合がある

- **Claim**: 並列実行で開発効率を向上できる
    - **Evidence**: Git worktreeで複数エージェントを隔離実行、複数モデルに同じプロンプトを投げて結果比較が可能
    - **Caveat**: 並列実行はコンフリクト管理が必要。小規模プロジェクトでは過剰な可能性

## Code Snippets

- **Rulesの設定例**: `.cursor/rules/`にMarkdownファイルを作成し、コマンド、コードスタイル、ワークフローを定義する基本設定

```markdown
# Commands
- npm run build: ビルド実行
- npm run test: テスト実行（単一ファイル推奨）

# Code style
- ES modules使用
- インポートは分割代入

# Workflow
- コード変更後は型チェック実行
```

- **Hooksの設定例**: `.cursor/hooks.json`で長時間実行エージェントを設定し、すべてのテスト成功まで反復継続

## Normalized Conditions

- **Use Cases**:
    - Cursorを使った日常的なコーディング作業
    - チーム開発でのエージェント活用標準化
    - 大規模コードベースでの効率的な開発
    - テスト駆動開発のエージェント支援
    - PRレビュー・コード審査の自動化
- **Anti-Cases**:
    - エージェントの出力を検証せずに採用
    - 過剰なRulesでエージェントを制約しすぎる
    - 会話のコンテキストが肥大化して混乱した状態での継続
    - 並列実行時のコンフリクト管理を怠る
- **Decision Triggers**:
    - Cursorを導入してエージェント活用を始める時
    - エージェントが同じミスを繰り返す時（Rules追加を検討）
    - 開発効率を上げたいがエージェントの使い方が定まらない時
    - チームでエージェント活用のベストプラクティスを共有したい時
