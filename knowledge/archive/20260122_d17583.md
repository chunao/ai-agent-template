---
title: Claude Codeのようなコーディングエージェントの承認疲れをAIで解決した
url: https://zenn.dev/kbwok/articles/d9d1b14a0dc55a
captured_at: 2026-01-22
published_at: 2025-12-31
---

# Claude Codeのようなコーディングエージェントの承認疲れをAIで解決した

## TL;DR & Key Conclusions
コーディングエージェント（Claude Code、Cline、Codex CLIなど）使用時に発生する「承認疲れ」問題を、別のAI（Claude Haiku）による自動判定で解決するツール「ccmanager」のAuto Approval機能を紹介。ターミナル出力を外部のAIに送信してセキュリティリスクを判定し、安全な操作のみ自動承認することで、セキュリティと利便性を両立。

- **承認疲れの定義**: 繰り返しの承認操作により、ユーザーが内容を確認せず機械的に承認してしまう状態
- **既存解決策の限界**: 事前コマンド定義、Sandbox、Devcontainer、--dangerously-skip-permissionsはいずれも完全な解決策にならない
- **Auto Approval機能**: ccmanagerに実装された、別AIによる自動セキュリティ判定機能
- **判定の客観性**: セッション外のAIを使用することでコンテキスト汚染を防ぎ、客観的な判断を実現
- **手動介入の保持**: 自動化しつつもいつでも手動で介入可能な設計
- **ツール横断的運用**: 複数のコーディングエージェント間で統一的に運用可能

## Quickstart
1. **ccmanagerの導入**: kbwo氏が開発するccmanagerをインストール
2. **Auto Approval機能の有効化**: ccmanagerの設定でAuto Approvalを有効にする
3. **コーディングエージェントの起動**: 通常通りClaude Codeなどを起動
4. **自動判定の実行**: ターミナル出力がHaikuに送信され、安全な操作は自動承認される

## Context & Claims (Claim-Evidence-Caveat)
- **Claim**: 承認疲れはセキュリティ機能を形骸化させる
    - **Evidence**: 繰り返しの承認操作により、ユーザーが承認内容に注意を払わなくなる
    - **Caveat**: 承認頻度や作業時間によって疲労度は異なる

- **Claim**: 既存の解決策は不完全である
    - **Evidence**: 事前コマンド定義は予期しないコマンドに対応不可、Sandboxでも承認ダイアログは表示される、Devcontainerはセットアップが煩雑
    - **Caveat**: --dangerously-skip-permissionsは利便性は高いが無条件実行のため危険

- **Claim**: 外部AIによる判定はコンテキスト汚染を防ぐ
    - **Evidence**: セッション外の別Claude（Haiku）を使用するため、作業中のコンテキストに影響されない
    - **Caveat**: AIの判定精度に依存する、ネットワーク遅延が発生する可能性

- **Claim**: 手動承認と自動承認の明確な基準がある
    - **Evidence**: ファイル変更・削除、権限昇格、ネットワーク操作は手動承認、読み取り操作や明示的指示による操作は自動承認可
    - **Caveat**: エッジケースでは判断が曖昧になる可能性

## Code Snippets
該当なし

## Normalized Conditions
- **Use Cases**:
    - Claude Code、Cline、Codex CLIなど複数のコーディングエージェントを日常的に使用する場合
    - 長時間のコーディングセッションで承認疲れを感じている場合
    - セキュリティを維持しながら作業効率を向上させたい場合
    - 複数のエージェントツールで統一的な承認ポリシーを適用したい場合
- **Anti-Cases**:
    - セキュリティ要件が非常に厳しく、すべての操作を手動で確認する必要がある場合
    - ネットワーク接続が不安定な環境での使用
    - AIによる判定コストを許容できない場合
- **Prerequisites**:
    - ccmanagerのインストール
    - Claude API（Haikuモデル）へのアクセス
    - コーディングエージェント（Claude Code、Cline、Codex CLIなど）の導入済み環境
- **Decision Triggers**:
    - 承認ダイアログを確認せずにクリックしている自分に気づいた時
    - 複数のコーディングエージェントを併用していて設定の統一化が必要な時
    - コーディングエージェントの利用頻度が高く、承認操作が作業の妨げになっている時
